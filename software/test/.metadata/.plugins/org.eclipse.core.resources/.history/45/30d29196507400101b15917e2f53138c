#include "motor.h"

/* MOTOR RUN */
void motor_run(struct motor *self){

	/* Set starting duty cycle */
	self->_dutyCycle = 0;

	/* Enable PWM */
	RCC->AHB1ENR |= RCC_AHB1ENR_GPIODEN;

	/* Configure GPIOD port number as general purpose output */
	GPIOD->MODER &= ~GPIO_MODER_MODER12_Msk;
	GPIOD->MODER |=  GPIO_MODER_MODER12_1;

	/* Set TIMER on PD12 */
	GPIOD->AFR[1] |= GPIO_AFRH_AFSEL12_1;
	/* Set enable pin */
}

